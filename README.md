# Домашнее задание к занятию «Микросервисы: масштабирование»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: Кластеризация

Предложите решение для обеспечения развёртывания, запуска и управления приложениями.
Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:
- поддержка контейнеров;
- обеспечивать обнаружение сервисов и маршрутизацию запросов;
- обеспечивать возможность горизонтального масштабирования;
- обеспечивать возможность автоматического масштабирования;
- обеспечивать явное разделение ресурсов, доступных извне и внутри системы;
- обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т. п.

Обоснуйте свой выбор.

## Ответ

**База:**
Используем **Kubernetes** как платформу для запуска и управления микросервисами в контейнерах (Docker, containerd). Он даёт:

- автоматическое и ручное масштабирование (HPA, Cluster Autoscaler);
- сервис-дискавери через встроенный DNS;
- маршрутизацию запросов (Ingress Controller: NGINX или Traefik);
- разделение внутреннего/внешнего трафика (Namespaces, NetworkPolicy, Ingress).

**Конфиги и секреты:**

- Переменные среды через ConfigMap и Secret;
- Для чувствительных данных — Vault, интегрируем с Kubernetes.

**Дополнительно:**

- Service Mesh (Istio или Linkerd) — безопасность (mTLS), умная маршрутизация.
- CI/CD: GitLab CI или Jenkins + ArgoCD для GitOps-деплоя.
- Мониторинг: Prometheus + Grafana. Логи — Loki.
- API Gateway (например, Kong) — если нужен контроль и защита внешних API.

---

Итог:
Kubernetes с доп. инструментами закрывает все требования: контейнеризация, масштабирование, маршрутизация, конфиги, безопасность и наблюдаемость. Решение масштабируемое, гибкое и подходит под DevOps-процессы.
